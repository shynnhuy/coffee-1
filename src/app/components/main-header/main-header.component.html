<mat-toolbar
    color="primary"
    class="mat-elevation-z6"
>
    <div class="d-flex justify-content-around align-items-center w-100">
        <div>
            <button
                type="button"
                aria-label="Toggle sidenav"
                mat-icon-button
                (click)="drawer.toggle()"
                *ngIf="isHandset$ | async"
            >
                <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
            </button>
            <a
                routerLink="/"
                mat-button
                color="primary"
            >
                <i class="fad fa-cannabis mx-1"></i>
                eStore
            </a>
        </div>

        <!-- <span class="spacer flex-grow-1"></span> -->
        <ng-container *ngIf="appUser">
            <div class="navMenu">
                <a
                    mat-raised-button
                    color="primary"
                    [matBadge]="cart.totalItemsCount"
                    matBadgePosition="before"
                    matBadgeColor="accent"
                    *ngIf="cart"
                    routerLink="/cart"
                >
                    <i class="fad fa-shopping-cart"></i>
                </a>
                <div
                    ngbDropdown
                    class="d-inline-block ml-2"
                >
                    <a
                        ngbDropdownToggle
                        mat-raised-button
                        color="primary"
                        id="profileDropdown"
                    >
                        {{ appUser.name }}
                    </a>
                    <div
                        ngbDropdownMenu
                        aria-labelledby="profileDropdown"
                    >
                        <button
                            mat-button
                            color="primary"
                            class="navItem"
                            ngbDropdownItem
                            routerLink="/"
                        >
                            Profile
                        </button>
                        <button
                            mat-button
                            color="primary"
                            class="navItem"
                            *ngIf="appUser.roles.manager"
                            ngbDropdownItem
                            routerLink="/acp"
                        >
                            ACP
                        </button>
                        <button
                            mat-button
                            color="primary"
                            class="navItem"
                            ngbDropdownItem
                            (click)="onLogout()"
                        >
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="!appUser">
            <a
                mat-button
                color="primary"
                routerLink="/login"
            >
                Login
            </a>
            <a
                mat-button
                color="primary"
                routerLink="/signup"
            >
                Signup
            </a>
        </ng-container>
    </div>
</mat-toolbar>
